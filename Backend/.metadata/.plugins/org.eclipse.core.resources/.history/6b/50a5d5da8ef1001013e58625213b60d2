CREATE TABLE clientes (
    clienteid SERIAL PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    genero VARCHAR(20),
    edad INT,
    identificacion VARCHAR(50) UNIQUE NOT NULL,
    direccion VARCHAR(150),
    telefono VARCHAR(50),
    contrasena VARCHAR(100) NOT NULL,
    estado BOOLEAN DEFAULT TRUE
);

CREATE TABLE cuentas (
    id SERIAL PRIMARY KEY,
    clienteid INT NOT NULL,
    numerocuenta VARCHAR(20) NOT NULL UNIQUE,
    tipocuenta VARCHAR(50),
    saldoinicial NUMERIC(15,2) DEFAULT 0,
    estado BOOLEAN DEFAULT TRUE,
    FOREIGN KEY (cliente_id) REFERENCES clientes(clienteid) ON DELETE CASCADE
);

CREATE TABLE movimientos (
    id SERIAL PRIMARY KEY,
    cuentaid INT NOT NULL,
    fecha TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    tipomovimiento VARCHAR(20) NOT NULL, -- "CREDITO" o "DEBITO"
    valor NUMERIC(15,2) NOT NULL,
    saldo NUMERIC(15,2) NOT NULL,
    FOREIGN KEY (cuenta_id) REFERENCES cuenta(id) ON DELETE CASCADE
);